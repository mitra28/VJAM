{"ast":null,"code":"import _regeneratorRuntime from\"/home/shay/a/dvaquera/461_Part2/VJAM/website/website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/shay/a/dvaquera/461_Part2/VJAM/website/website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/shay/a/dvaquera/461_Part2/VJAM/website/website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PackageForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),ownerName=_useState2[0],setOwnerName=_useState2[1];// initialize var to empty string\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),repoName=_useState4[0],setRepoName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),URL=_useState6[0],setUrl=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),scores=_useState8[0],setScores=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),zipfile=_useState10[0],setFile=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var packageData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();packageData=new FormData();packageData.append('owner_name',ownerName);packageData.append('repository_name',repoName);packageData.append('url',URL);packageData.append('scores',scores.split(','));packageData.append('file',zipfile);_context.next=9;return fetch('/api/packages',{// use fetch API to make a POST request to the endpoint\nmethod:'POST',body:packageData});case 9:response=_context.sent;if(response.ok){console.log('Package created successfully!');}else{console.error('Failed to create package.');}case 11:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleFileChange=function handleFileChange(event){setFile(event.target.files[0]);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"owner-name\",children:\"Owner Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"owner-name\",value:ownerName,onChange:function onChange(event){return setOwnerName(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repo-name\",children:\"Repository Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"repo-name\",value:repoName,onChange:function onChange(event){return setRepoName(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",children:\"URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"url\",value:URL,onChange:function onChange(event){return setUrl(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"scores\",children:\"Scores:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"scores\",value:scores,onChange:function onChange(event){return setScores(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Choose a file:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",name:\"file\",onChange:handleFileChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Package\"})]});}export default PackageForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PackageForm","_useState","_useState2","_slicedToArray","ownerName","setOwnerName","_useState3","_useState4","repoName","setRepoName","_useState5","_useState6","URL","setUrl","_useState7","_useState8","scores","setScores","_useState9","_useState10","zipfile","setFile","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","packageData","response","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","split","fetch","method","body","sent","ok","console","log","error","stop","_x","apply","arguments","handleFileChange","target","files","onSubmit","children","htmlFor","type","id","value","onChange","name"],"sources":["/home/shay/a/dvaquera/461_Part2/VJAM/website/website/src/components/PackageForm.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction PackageForm() {\n  const [ownerName, setOwnerName] = useState(''); // initialize var to empty string\n  const [repoName, setRepoName] = useState('');\n  const [URL, setUrl] = useState('');\n  const [scores, setScores] = useState('');\n  const  [zipfile, setFile] = useState('');\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n  \n    const packageData = new FormData();\n    packageData.append('owner_name', ownerName);\n    packageData.append('repository_name', repoName);\n    packageData.append('url', URL);\n    packageData.append('scores', scores.split(','));\n    packageData.append('file', zipfile);\n  \n    const response = await fetch('/api/packages', { // use fetch API to make a POST request to the endpoint\n      method: 'POST',\n      body: packageData,\n    });\n    \n    if (response.ok) {\n      console.log('Package created successfully!');\n    } else {\n      console.error('Failed to create package.');\n    }\n  };\n\n  const handleFileChange = (event) => {\n    setFile(event.target.files[0]);\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label htmlFor=\"owner-name\">Owner Name:</label>\n        <input\n          type=\"text\"\n          id=\"owner-name\"\n          value={ownerName}\n          onChange={(event) => setOwnerName(event.target.value)}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"repo-name\">Repository Name:</label>\n        <input\n          type=\"text\"\n          id=\"repo-name\"\n          value={repoName}\n          onChange={(event) => setRepoName(event.target.value)}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"url\">URL:</label>\n        <input\n          type=\"text\"\n          id=\"url\"\n          value={URL}\n          onChange={(event) => setUrl(event.target.value)}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"scores\">Scores:</label>\n        <input\n          type=\"text\"\n          id=\"scores\"\n          value={scores}\n          onChange={(event) => setScores(event.target.value)}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"file\">Choose a file:</label>\n        <input type=\"file\" id=\"file\" name=\"file\" onChange={handleFileChange} />\n      </div>\n      <button type=\"submit\">Create Package</button>\n    </form>\n  );\n}\n\nexport default PackageForm;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}