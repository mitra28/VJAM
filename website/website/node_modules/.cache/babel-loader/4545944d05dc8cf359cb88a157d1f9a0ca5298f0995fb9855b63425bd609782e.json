{"ast":null,"code":"import _regeneratorRuntime from\"/home/shay/a/dvaquera/461_Part2/VJAM/website/website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/shay/a/dvaquera/461_Part2/VJAM/website/website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/shay/a/dvaquera/461_Part2/VJAM/website/website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PackageForm(){//const [ownerName, setOwnerName] = useState(''); // initialize var to empty string\n//const [repoName, setRepoName] = useState('');\n//const [URL, setUrl] = useState('');\n//const [scores, setScores] = useState('');\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),zipfile=_useState2[0],setFile=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var packageData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();packageData=new FormData();//packageData.append('owner_name', ownerName);\n//packageData.append('repository_name', repoName);\n//packageData.append('url', URL);\n//packageData.append('scores', scores.split(','));\npackageData.append('file',zipfile);_context.next=5;return fetch('/api/packages',{// use fetch API to make a POST request to the endpoint\nmethod:'POST',body:packageData});case 5:response=_context.sent;if(response.ok){console.log('Package created successfully!');}else{console.error('Failed to create package.');}case 7:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleFileChange=function handleFileChange(event){setFile(event.target.files[0]);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Choose a file:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",name:\"file\",onChange:handleFileChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Package\"})]});}export default PackageForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PackageForm","_useState","_useState2","_slicedToArray","zipfile","setFile","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","packageData","response","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","fetch","method","body","sent","ok","console","log","error","stop","_x","apply","arguments","handleFileChange","target","files","onSubmit","children","htmlFor","type","id","name","onChange"],"sources":["/home/shay/a/dvaquera/461_Part2/VJAM/website/website/src/components/PackageForm.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction PackageForm() {\n  //const [ownerName, setOwnerName] = useState(''); // initialize var to empty string\n  //const [repoName, setRepoName] = useState('');\n  //const [URL, setUrl] = useState('');\n  //const [scores, setScores] = useState('');\n  const  [zipfile, setFile] = useState('');\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n  \n    const packageData = new FormData();\n    //packageData.append('owner_name', ownerName);\n    //packageData.append('repository_name', repoName);\n    //packageData.append('url', URL);\n    //packageData.append('scores', scores.split(','));\n    packageData.append('file', zipfile);\n  \n    const response = await fetch('/api/packages', { // use fetch API to make a POST request to the endpoint\n      method: 'POST',\n      body: packageData,\n    });\n    \n    if (response.ok) {\n      console.log('Package created successfully!');\n    } else {\n      console.error('Failed to create package.');\n    }\n  };\n\n  const handleFileChange = (event) => {\n    setFile(event.target.files[0]);\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label htmlFor=\"file\">Choose a file:</label>\n        <input type=\"file\" id=\"file\" name=\"file\" onChange={handleFileChange} />\n      </div>\n      <button type=\"submit\">Create Package</button>\n    </form>\n  );\n}\n\nexport default PackageForm;\n\n"],"mappings":"8aAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB;AACA;AACA;AACA;AACA,IAAAC,SAAA,CAA4BN,QAAQ,CAAC,EAAE,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhCG,OAAO,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAExB,GAAM,CAAAI,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,WAAA,CAAAC,QAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BP,KAAK,CAACQ,cAAc,EAAE,CAEhBP,WAAW,CAAG,GAAI,CAAAQ,QAAQ,EAAE,CAClC;AACA;AACA;AACA;AACAR,WAAW,CAACS,MAAM,CAAC,MAAM,CAAElB,OAAO,CAAC,CAACa,QAAA,CAAAE,IAAA,SAEb,CAAAI,KAAK,CAAC,eAAe,CAAE,CAAE;AAC9CC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEZ,WACR,CAAC,CAAC,QAHIC,QAAQ,CAAAG,QAAA,CAAAS,IAAA,CAKd,GAAIZ,QAAQ,CAACa,EAAE,CAAE,CACfC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC9C,CAAC,IAAM,CACLD,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAC,CAC5C,CAAC,wBAAAb,QAAA,CAAAc,IAAA,MAAApB,OAAA,GACF,kBApBK,CAAAL,YAAYA,CAAA0B,EAAA,SAAAzB,IAAA,CAAA0B,KAAA,MAAAC,SAAA,OAoBjB,CAED,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIvB,KAAK,CAAK,CAClCP,OAAO,CAACO,KAAK,CAACwB,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAChC,CAAC,CAED,mBACEtC,KAAA,SAAMuC,QAAQ,CAAEhC,YAAa,CAAAiC,QAAA,eAC3BxC,KAAA,QAAAwC,QAAA,eACE1C,IAAA,UAAO2C,OAAO,CAAC,MAAM,CAAAD,QAAA,CAAC,gBAAc,EAAQ,cAC5C1C,IAAA,UAAO4C,IAAI,CAAC,MAAM,CAACC,EAAE,CAAC,MAAM,CAACC,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAET,gBAAiB,EAAG,GACnE,cACNtC,IAAA,WAAQ4C,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gBAAc,EAAS,GACxC,CAEX,CAEA,cAAe,CAAAvC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}